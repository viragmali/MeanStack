
<html ng-app="mittens">
<head>
	<title>Mittens</title>
	<link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.css">
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript" src="angular.min.js"></script>
	<script type="text/javascript" src="angular-route.js"></script>
	<script type="text/javascript" src="angular-cookies.js"></script>
	
	<script type="text/javascript">
		var app = angular.module('mittens',['ngRoute','ngCookies']);

app.config(function($routeProvider, $locationProvider) {
	$routeProvider
   .when('/', {
    templateUrl: 'home.html',
    controller: 'HomeController',
})
.when('/signup', {
    templateUrl: 'signup.html',
    controller: 'SignupController',
});   
  });

		app.controller('HomeController', function($scope,$http,$cookies){	
		function getMeows(){
		$http.get('/meows').then(function(responce){
				$scope.meows=responce.data;
			});		
	}
	getMeows();

	$scope.submitNewMeow=function(){
		$http.post('/meows',{newMeow:$scope.newMeow}).then(function(){
			getMeows();
			$scope.newMeow='';
		});
	};
$scope.removeMeow=function(meow){
$http.put('/meows/remove',{ meow: meow}).then(function(){
	getMeows();
});
}; 


		});

app.controller('SignupController', function($scope,$http){
	$scope.submitSignup=function(){
var newUser= {
	username: $scope.username,
	password: $scope.password
};		$http.post('/users',newUser).then(function(){
				alert('Success');
			});
	};	

$scope.signin=function(){
$http.put('/users/signin',{ username: $scope.username,password: $scope.password})
.then(function(res){
	$cookies.put('token',res.data.token);
	$scope.currentUser=$scope.username;
	alert('successfully signed in');
}, function(err){
	alert('Bad login credentials');
});
};

});
	</script>
</head>
<body>
<h1 class="page-title"><a href="#!/"> Mittens </a></h1>
<div ng-view></div>
</body>
</html>